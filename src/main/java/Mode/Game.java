package Mode;

/**
 * Created by sssss on 2017/3/16.
 */

import java.applet.Applet;
import java.applet.AudioClip;
import java.awt.Component;
import java.awt.Point;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.net.URL;
import javax.swing.JOptionPane;

class Game {
    Hero hero;
    public static final Point START = new Point(200, 200);
    public static final String TITLE = "魔塔J0X06型 BY 魔塔与我讨论";
    public int curfloor = 1;
    public int maxfloor = 1;
    public static final int MONSTERKIND = 32;
    public static final int BLOCK = 190;
    public static final int EMP = 0;
    public static final int WAL = -1;
    public static final int YKEY = -2;
    public static final int BKEY = -3;
    public static final int RKEY = -4;
    public static final int ATK = -5;
    public static final int DEF = -6;
    public static final int RHP = -7;
    public static final int BHP = -8;
    public static final int YHP = -9;
    public static final int UP = -10;
    public static final int DOWN = -11;
    public static final int YDR = -12;
    public static final int BDR = -13;
    public static final int RDR = -14;
    public static final int HERO = -15;
    public static final int SDR = -19;
    public static final int ATK1 = -20;
    public static final int ATK2 = -21;
    public static final int ATK3 = -22;
    public static final int ATK4 = -23;
    public static final int ATK5 = -24;
    public static final int DEF1 = -25;
    public static final int DEF2 = -26;
    public static final int DEF3 = -27;
    public static final int DEF4 = -28;
    public static final int DEF5 = -29;
    public static final int PRI = -32;
    public static final String BOOK = "怪物手册";
    public static final String STATE = "人物信息";
    public static final String FIGHT = "战斗";
    public static final String[] MNAME = new String[]{"小史莱姆", "红史莱姆", "黑史莱姆", "史莱姆王", "小蝙蝠怪", "大蝙蝠怪", "红蝙蝠怪", "吸血鬼王", "骷髅小兵", "骷髅战士", "骷髅将军", "骷髅冥王", "兽人小兵", "兽人战士", "棕石怪人", "影子战士", "低级法师", "高级法师", "低级巫师", "高级巫师", "低级守卫", "中级守卫", "高级守卫", "闪电剑王", "低级骑士", "中级骑士", "高级骑士", "黑暗骑士", "红衣魔王", "魔王守卫", "冥界法王"};
    public static final int[] MHP = new int[]{60, 80, 120, 250, 160, 200, 240, 2780, 300, 360, 425, 400, 500, 550, 600, 260, 400, 400, 400, 400, 1000, 2000, 4000, 7500, 750, 860, 950, 1400, 8500, 1800, 2400, 0};
    public static final int[] MATK = new int[]{10, 12, 14, 16, 13, 21, 31, 44, 27, 36, 44, 58, 50, 57, 64, 77, 64, 64, 96, 96, 80, 80, 80, 120, 90, 102, 115, 136, 244, 188, 166, 0};
    public static final int[] MDEF = new int[]{1, 2, 4, 5, 3, 6, 8, 12, 7, 7, 10, 6, 8, 10, 12, 7, 5, 10, 5, 10, 20, 40, 60, 40, 12, 14, 16, 23, 66, 11, 44, 0};
    public static final int[] MMONEY = new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 31, 29, 30, 32};
    public static final int[] MEXP = new int[]{1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8};
    public int[][][] mt = new int[][][]{{{-5, -1, -8, -1, -2, -1, -2, -8, 0, -7}, {0, -13, 0, -12, 0, -1, -1, -1, 3, -1}, {-3, -1, -1, -1, 0, 0, -12, 0, 0, -2}, {-1, -1, -8, -1, -1, 1, -1, -3, -1, -1}, {0, 2, 0, 0, -12, 0, -1, -1, -1, -11}, {-10, -1, 1, -1, -1, 0, 1, 0, 1, 0}, {-1, -1, 0, -2, -1, 0, -1, -2, -1, -1}, {-9, -1, -1, -1, -1, -13, -1, -1, -1, -6}, {0, -12, 0, -7, -1, 0, -1, -2, -1, -8}, {-8, -1, -7, 0, -12, 0, -12, 0, 3, 0}}, {{0, 2, 0, -1, -5, -13, 0, 3, 0, -9}, {-7, -1, -2, -1, -1, -1, -12, -1, -1, -1}, {-7, -1, 0, 0, 0, 0, 0, 0, -14, -6}, {-1, -1, -1, 2, -1, 1, -1, 2, -1, -1}, {0, 1, 0, 0, -1, 0, -1, 0, -1, -10}, {-11, -1, -1, -1, -1, 2, -1, 0, 3, 0}, {-1, -1, -2, -1, -2, 0, -1, 1, -1, -1}, {-8, 1, 0, 1, 0, 0, 0, 0, 3, -4}, {-1, -1, 2, -1, -1, 3, -1, -12, -1, -1}, {-8, -2, 0, -8, -1, -6, -1, 0, 3, -3}}, {{-5, -1, -7, -1, -8, -1, -5, 0, -12, 0}, {0, 4, 0, -1, 5, -1, -1, -13, -1, -7}, {-5, -1, 0, 2, 0, 1, 0, 0, -1, -8}, {-1, -1, 1, -1, -2, -1, -7, 0, -1, -1}, {0, -13, 0, -1, -1, -1, -1, 0, -1, -11}, {-10, -1, 0, -1, -8, -1, -7, 0, 3, 0}, {-1, -1, 1, -1, 5, -1, -1, 0, -1, -1}, {-6, -1, 0, 1, 0, 2, 0, 0, 3, 0}, {0, 4, 0, -1, 3, -1, 3, -1, -1, -12}, {-6, -1, -3, -1, -3, -1, -8, -1, -6, 0}}, {{-6, 0, 3, 0, -8, -8, 0, 3, 0, -5}, {-1, -1, -1, -12, -1, -1, -12, -1, -1, -1}, {-9, -12, 0, 0, 0, -1, 0, 0, -12, -9}, {-1, -1, 0, -1, 0, 3, 0, 0, -1, -1}, {0, 2, 0, -1, -8, -1, -1, 0, -1, -10}, {-11, -1, 0, -7, 0, -1, -2, 0, 4, 0}, {-1, -1, 0, -1, -1, -1, -1, 0, -1, -1}, {0, 3, 0, -12, -3, -1, -2, 0, 6, 0}, {-9, -1, 0, -1, -1, -1, -1, 0, -1, -2}, {0, -12, 0, 2, -7, -7, 2, 0, -1, -2}}, {{0, 7, 0, -1, -8, 0, -1, -7, -2, 0}, {0, -1, 0, -1, -1, 3, -1, -1, -1, -12}, {-20, -1, 0, 0, -12, 0, 0, 0, 2, 0}, {-1, -1, -1, 5, -1, 6, -1, -13, -1, -1}, {0, -8, 0, 0, 0, 0, -1, 0, -1, -11}, {-10, -1, -1, -12, -1, -1, -1, 0, -8, 0}, {-1, -1, 0, 0, -1, 0, 4, 0, -1, -1}, {-2, -1, -12, -1, -1, 0, -1, 0, 7, 0}, {-3, -1, 0, 0, 5, 0, -1, -1, -1, -12}, {0, 6, 0, -8, -1, -4, -1, -8, -9, 0}}, {{-7, -1, 0, 2, 3, 0, 0, 0, -1, -25}, {-7, -1, 0, -1, -1, -12, -1, 0, -1, -13}, {0, -12, 0, -1, -7, 0, -1, 0, 6, 0}, {-1, -1, -1, -1, -7, 0, -1, -12, -1, -1}, {0, 5, 0, -1, -1, -12, -1, 0, -1, -10}, {-11, -1, 0, 5, 6, 0, -1, 0, 4, 0}, {-1, -1, 5, -1, -1, -1, -1, -8, -1, -1}, {-2, -1, 0, 0, -1, -9, -1, -1, -1, -5}, {-2, -1, -1, 0, 5, 0, 6, 0, 7, 0}, {0, 4, 3, 0, -1, -2, -1, -8, -1, -3}}, {{-8, -1, 0, 3, 0, 4, 0, -12, 6, 0}, {0, 6, 0, -1, -13, -1, 5, -1, -1, -3}, {-7, -1, 0, -1, -6, -1, 0, -8, -1, -3}, {-1, -1, 6, -1, -1, -1, -12, -1, -1, -1}, {0, 7, 0, -1, 0, -12, 0, -2, -1, -11}, {-10, -1, 0, -12, 0, -1, 0, 0, 0, 0}, {-1, -1, 6, -1, -1, -1, -13, -1, -1, -1}, {-8, -1, 0, -1, -5, -1, 0, 0, -13, 0}, {0, 6, 0, -1, -13, -1, 2, -1, -1, -9}, {-7, -1, 0, 4, 0, 3, 0, -7, -1, -9}}, {{-5, -1, -8, -1, 0, 6, 7, 0, -6, -2}, {-2, -1, 0, -12, 0, -1, -1, -1, -1, -1}, {0, 7, 0, -1, 0, 4, 0, 0, 6, -8}, {-1, -1, 6, -1, -1, -1, -1, 7, -1, -1}, {0, 3, 0, -1, -2, -9, -1, 0, -1, -10}, {-11, -1, 0, -1, -3, 0, -1, 0, 7, 0}, {-1, -1, -12, -1, -1, 4, -1, -12, -1, -1}, {-2, -1, 0, -1, 0, 0, -1, 0, -1, -8}, {-3, -1, 9, -1, 4, -1, -1, 0, 9, 0}, {0, 9, 0, -1, 0, 0, -13, 0, -1, -8}}, {{-4, -1, -3, -1, -2, -1, -7, -7, -1, -5}, {0, 7, 0, 7, 0, 7, 0, 0, 10, 0}, {-9, -1, -8, -1, -7, -1, -1, 5, -1, -6}, {-1, -1, -1, -1, -1, -1, -2, 0, -1, -1}, {0, 6, 0, -12, 0, -1, -1, 5, -1, -11}, {-10, -1, -7, -1, 0, 6, 0, 0, 6, 0}, {-1, -1, -8, -1, -1, -1, -13, -1, -1, -1}, {-5, -1, -1, -1, 0, 9, 0, 0, -1, -5}, {0, 11, 0, 10, 0, -1, -1, 0, 10, 0}, {-6, -1, 0, -1, -8, -1, -7, 0, -1, -6}}, {{-4, -1, 0, -12, 7, 0, 5, 0, -1, -8}, {-9, -1, 0, -1, -1, 6, -1, -1, -1, -8}, {0, 11, 0, -1, -8, 0, 6, 0, 6, 0}, {-1, -1, -1, -1, -1, 5, -1, -1, -1, -1}, {0, 6, 0, 0, 6, 0, -12, 0, -1, -10}, {-11, -1, 0, -7, -1, -1, -1, 0, 8, 0}, {-1, -1, -14, -1, -1, -2, -1, 0, -1, -1}, {0, 7, 0, 4, 9, 0, -1, -2, -1, -3}, {-8, -1, 9, -1, -1, 0, -1, -1, -1, -9}, {-5, -1, -7, -1, -8, 0, 9, 0, 10, 0}}, {{-5, -1, 0, -13, 0, -1, -3, 0, -6, -6}, {0, 12, 0, -1, 9, -1, -1, -14, -1, -5}, {-6, -1, 0, -1, 0, -1, -2, 0, -1, -5}, {-1, -1, -1, -1, -12, -1, -1, -14, -1, -1}, {0, 11, 0, 0, 0, 10, 0, 0, -1, -11}, {-10, -1, -9, -1, -9, -1, -8, 0, 0, 0}, {-1, -1, -1, -1, -1, -1, 0, -2, -1, -1}, {-7, -1, -8, -8, 0, 10, 0, -1, -1, -7}, {0, -1, -1, -1, -1, -1, 0, 12, 0, 0}, {0, 10, 0, -2, 0, -13, 0, -1, -9, -8}}, {{0, 12, 0, 12, 0, 12, 0, -12, 10, 0}, {-13, -1, -13, -1, -13, -1, 9, -1, -1, -2}, {-21, -1, -26, -1, -9, -1, 0, 0, -1, -2}, {-1, -1, -1, -1, -1, -1, -1, 9, -1, -1}, {0, 9, 0, -7, 0, -12, 0, 0, -1, -10}, {-11, -1, -1, -1, 10, -1, -2, 0, 11, 0}, {-1, -1, -8, -1, -8, -1, -1, -12, -1, -1}, {-5, -1, -7, -1, -1, -1, -7, 0, -2, -6}, {0, -14, 0, -13, 0, -1, -1, -12, -1, -1}, {-6, -1, -9, -1, 0, -12, 0, 0, 11, -5}}, {{-5, -1, 0, 13, 0, -1, -7, 0, 11, 0}, {-5, -1, -7, -1, 0, -1, -8, 0, -1, -3}, {0, -13, 0, -1, 13, -1, -1, -12, -1, -4}, {-1, -1, -1, -1, 0, 11, 0, 0, -1, -1}, {0, 12, 0, -1, 0, -1, -1, 9, -1, -11}, {-10, -1, 0, -12, 0, -1, -9, 0, 10, 0}, {-1, -1, -1, -1, 11, -1, -1, -1, -1, -1}, {0, -13, 0, -1, 0, 14, 0, -8, -1, -6}, {-6, -1, -7, -1, 0, -1, 0, -1, -1, -6}, {-6, -1, 0, 13, 0, -1, 0, 15, 0, 0}}, {{-9, -1, -3, -1, -3, -1, -3, -1, -5, -6}, {-9, -1, 11, -1, 12, -1, 13, -1, -7, -8}, {0, 8, 0, -1, 0, -1, 0, 14, 0, -9}, {-1, -1, -12, -1, -12, -1, -12, -1, -1, -1}, {0, 9, 0, 0, 0, 0, 0, -9, -1, -10}, {-11, -1, -2, -1, -12, -1, 0, 0, 16, 0}, {-1, -1, -1, -1, 0, -1, -1, -1, -1, -1}, {0, 8, 0, -1, 13, -1, 0, 16, -6, -6}, {-2, -1, 0, -1, 14, -1, 0, -1, -1, -5}, {-2, -1, 0, -12, 0, -12, 0, -1, -5, -5}}, {{-5, -1, 0, 14, 0, -1, -1, -2, -1, -8}, {0, 16, 0, -1, -12, -1, -1, 0, 17, -8}, {-5, -1, -3, -1, 0, 0, -12, 0, -1, -8}, {-1, -1, -1, -1, -1, 13, -1, 0, -1, -1}, {0, 15, 0, 0, 15, 0, -1, 0, -1, -11}, {-10, -1, -1, -1, -1, -8, -1, 0, 13, 0}, {-1, -1, -7, -1, -1, -1, -1, -12, -1, -1}, {-6, -1, -8, -1, -6, -1, -1, 0, -1, -8}, {0, 16, 0, -12, 0, -12, 0, 0, 17, -8}, {-6, -1, -9, -1, -5, -1, -2, -2, -1, -8}}, {{-8, -1, 0, 0, 0, 0, 0, 0, -1, -5}, {-8, 17, 0, -2, -1, -1, -1, 0, -1, -6}, {-8, -1, 0, -1, -1, -27, -1, 0, 18, 0}, {-1, -1, 0, -1, -22, 0, -1, 0, -1, -1}, {0, 16, 0, -1, -1, 20, -1, 0, -1, -10}, {-11, -1, 0, -1, 0, 0, -1, 0, 18, 0}, {-1, -1, 0, -1, 19, -1, -1, 0, -1, -1}, {-8, -1, 0, -1, 0, 0, -1, 0, 18, 0}, {-8, 17, 0, -1, -1, -14, -1, 0, -1, -6}, {-8, -1, 0, 0, 0, 0, 0, 0, -1, -5}}, {{-5, -9, -6, 20, 0, -1, -7, -7, -1, -2}, {-5, -1, -6, -1, 0, 18, 0, 0, 12, 0}, {-5, -9, -6, -1, -12, -1, -1, -12, -1, -2}, {-1, -1, -1, -1, 0, -7, -1, 0, -1, -1}, {0, 19, 0, -13, 0, -1, -1, 14, -1, -11}, {-10, -1, -1, -1, 18, -1, -8, 0, 0, 0}, {-1, -1, -2, -1, 0, -1, -1, -12, -1, -1}, {-8, -7, -2, -1, -12, -1, 0, 0, 19, 0}, {-8, -7, -2, 17, 0, 17, 0, 0, -1, -3}, {-8, -7, -2, -1, -9, -1, -1, -9, -1, -4}}, {{-2, -1, -9, -1, -8, 0, -1, -6, -1, -5}, {0, 21, 0, -1, -1, 0, 20, 0, 20, 0}, {-2, -1, 0, 18, 17, 0, -1, -6, -1, -5}, {-1, -1, -1, -1, -1, -12, -1, -1, -1, -1}, {0, 17, 0, 0, 18, 0, 19, 0, -1, -10}, {-11, -1, -1, -1, -1, -13, -1, 0, 20, 0}, {-1, -1, -8, -8, -1, -6, -1, -12, -1, -1}, {-3, -1, -7, -7, -1, -5, -1, 0, -1, -4}, {0, 22, 0, 0, -1, -1, -1, 0, 23, 0}, {-3, -1, -2, 0, 20, 0, 19, 0, -1, -4}}, {{-5, -1, -6, -1, -9, -1, -9, -1, -5, -5}, {-5, 23, -6, 22, -8, 21, 0, -13, 0, 0}, {-5, -1, -6, -1, -7, -1, 0, -1, -6, -6}, {-1, -1, -1, -1, -1, -1, 21, -1, -1, -1}, {0, 23, 0, 0, 0, 21, 0, -2, -1, -11}, {-10, -1, -9, -1, -9, -1, 0, 0, 20, 0}, {-1, -1, -1, -1, -1, -1, 21, -1, -1, -1}, {-5, -6, -1, -5, -6, -1, 0, -1, -6, -6}, {0, 0, 22, 0, 0, 22, 0, -13, 0, 0}, {-5, -6, -1, -5, -6, -1, -9, -1, -5, -5}}, {{-2, -2, 0, -1, 0, 22, 0, 0, 22, 0}, {-1, -1, -12, -1, 21, -1, -8, 0, -1, 0}, {-2, -2, 0, -1, 0, -1, -1, -5, -1, -6}, {-1, -1, 23, -1, 0, 0, -1, -1, -1, -1}, {0, 0, 0, -1, -1, -12, -1, -9, -1, -10}, {-11, -1, 0, 21, 0, 0, 0, 0, 24, 0}, {-1, -1, -1, -1, -12, -1, -12, -1, -1, -1}, {-5, -6, -7, -1, 0, -1, 0, 21, 0, 0}, {-5, -6, -8, 23, 0, -1, -1, -1, -1, 22}, {-5, -6, -9, -1, -9, -1, -5, -6, -8, 0}}, {{-7, -1, 0, 25, 0, 0, 23, 0, -13, 0}, {-5, -1, 0, -1, -2, 0, -1, 0, -1, -6}, {0, -12, 0, -1, -1, -9, -1, 0, -1, -5}, {-1, -1, 0, -1, -7, -8, -1, 0, -1, -1}, {0, 25, 0, -1, -1, -1, -1, 0, -1, -11}, {-10, -1, 0, -7, -1, -2, 23, 0, 20, 0}, {-1, -1, 0, -1, -1, -1, -1, 0, -1, -1}, {0, -12, 0, -8, -1, -2, 23, 0, -12, 0}, {-6, -1, 0, -1, -1, -1, -1, 0, -1, -9}, {-8, -1, 0, 25, 0, 0, 25, 0, -1, -9}}, {{-28, 28, 0, -12, 0, 26, 25, 0, -9, -9}, {-1, -1, -1, -1, 0, -1, -1, -1, -1, -1}, {-2, 26, -8, 25, 0, 26, 0, 0, 27, -5}, {-1, -1, -1, -1, -1, -1, -1, -12, -1, -1}, {0, 25, 0, 0, 0, 25, 0, 0, -1, -10}, {-11, -1, -1, -1, -1, -1, 0, 0, 25, 0}, {-1, -1, -2, -1, -2, -1, 25, -1, -1, -1}, {-5, 0, 0, 0, 0, 26, 0, 0, 0, -8}, {-1, -1, -12, -1, -1, -1, -1, 26, -1, -1}, {-23, 28, 0, 0, -6, -6, 0, 0, 0, -8}}, {{-5, -1, 0, -1, 0, -1, 0, 24, 0, -1}, {0, 27, 0, 26, 0, -12, 0, -1, -9, -9}, {-6, -1, -1, -1, 25, -1, -1, -1, -1, -9}, {-1, -1, 0, 25, 0, 0, 25, 0, -1, -1}, {0, 0, 0, -1, -1, -1, -1, 0, -1, -11}, {-10, -1, 28, -1, -5, -5, -1, 0, 26, 0}, {-1, -1, 0, -1, -1, -5, -1, 0, -1, -1}, {-5, -5, -7, -1, -6, -6, -1, 0, 26, -8}, {-1, -1, -7, -1, -6, -1, -1, 0, -1, -1}, {-6, -6, -7, -1, 0, 0, -14, 0, 27, -9}}, {{0, 27, 0, -1, 0, 0, 25, 0, -1, -5}, {-6, -1, -9, -1, -8, -1, -1, 0, 28, 0}, {-5, -1, 0, 26, 0, -1, -2, 0, -1, -5}, {-1, -1, -1, -1, -1, -1, -1, -12, -1, -1}, {0, 25, 0, 25, 0, 25, 0, 0, -1, -10}, {-11, -1, -2, -1, -2, -1, -2, 0, 27, 0}, {-1, -1, -1, -1, -1, -1, -1, -12, -1, -1}, {-5, -5, 0, 27, 0, 0, 26, 0, -1, -6}, {-1, -1, -3, -1, -1, -1, -1, 0, 28, 0}, {-6, -6, 0, 27, 0, 0, 26, 0, -1, -6}}, {{-5, -5, -5, -5, -5, -5, -5, -5, -5, -5}, {-6, -6, -6, -6, -6, -6, -6, -6, -6, -6}, {-9, -9, 0, -8, -8, -8, -7, -7, -7, -7}, {-1, -1, 31, -1, -1, -1, -1, -1, -1, -1}, {0, 28, 0, -1, 0, 26, 0, -7, -1, -11}, {-10, -1, 0, 27, 0, -1, -8, 0, 25, 0}, {-1, -1, 31, -1, -1, -1, -1, -1, -1, -1}, {-9, -9, 0, -8, -8, -8, -7, -7, -7, -7}, {-5, -5, -5, -5, -5, -5, -5, -5, -5, -5}, {-6, -6, -6, -6, -6, -6, -6, -6, -6, -6}}, {{-5, -5, -1, -5, -1, -5, -1, -5, -1, -5}, {-24, 0, 30, 0, 30, 0, 30, 0, -13, 0}, {-5, -5, -1, -5, -1, -5, -1, 0, -1, -5}, {-1, -1, -1, -1, -1, -1, -1, -12, -1, -1}, {0, 26, 0, -1, -8, -1, -9, 0, -1, -10}, {-11, -1, 0, 27, 0, 28, 0, 0, 31, 0}, {-1, -1, -1, -1, -1, -1, -1, -12, -1, -1}, {-6, -6, -1, -6, -1, -6, -1, 0, -1, -6}, {-29, 0, 30, 0, 30, 0, 30, 0, -13, 0}, {-6, -6, -1, -6, -1, -6, -1, -6, -1, -6}}, {{-3, -1, -7, -1, -8, 0, 30, 0, 30, 0}, {-3, 31, 0, -12, 0, 0, -1, -1, -1, -6}, {-3, -1, 0, -1, -7, 0, -1, -6, -6, -6}, {-1, -1, -1, -1, -1, -14, -1, -2, -1, -1}, {-32, -19, 29, 0, -1, 0, -1, -1, -1, -11}, {-1, -1, -1, 0, 30, 0, 30, 0, 30, 0}, {-5, -1, -9, 0, -1, 0, -1, -1, -1, -1}, {-5, -1, -1, -1, -1, -12, -1, -2, -5, 0}, {-5, -1, -9, -1, 0, 0, -1, -1, -1, -12}, {0, 31, 0, 30, 0, 0, 30, 0, 0, 0}}};
    URL url;
    AudioClip clip;
    File file;
    AudioClip ac;
    File f;
    URL u;
    static final String npc = "故事人";
    static final String s1 = "Hero死了……谁还能拯救公主……";
    static final String s2 = "魔王……也许就是那么强大……";
    static final String s3 = "如果……如果Hero还活着……又能怎样……";
    static final String s4 = "魔王死了……Hero成功拯救了公主……";
    static final String s5 = "但是魔塔的故事远不止于此……Hero的旅程才刚刚开始……";

    Game(Hero var1) {
        this.hero = var1;
    }

    public void save(int var1) {
        try {
            DataOutputStream var2 = new DataOutputStream(new FileOutputStream("save" + var1 + ".dat"));

            for (int var3 = 0; var3 < this.mt.length; ++var3) {
                for (int var4 = 0; var4 < 10; ++var4) {
                    for (int var5 = 0; var5 < 10; ++var5) {
                        var2.writeInt(this.mt[var3][var4][var5]);
                    }
                }
            }

            var2.writeInt(this.hero.getHp());
            var2.writeInt(this.hero.getAtk());
            var2.writeInt(this.hero.getDef());
            var2.writeInt(this.hero.getMoney());
            var2.writeInt(this.hero.getExp());
            var2.writeInt(this.hero.getYkey());
            var2.writeInt(this.hero.getBkey());
            var2.writeInt(this.hero.getRkey());
            var2.writeInt(this.curfloor);
            var2.writeInt(this.maxfloor);
            var2.writeInt(this.hero.getX());
            var2.writeInt(this.hero.getY());
            var2.writeInt(this.hero.getDir());
            var2.close();
        } catch (Exception var6) {
            ;
        }

    }

    public void load(int var1) {
        try {
            DataInputStream var2 = new DataInputStream(new FileInputStream("save" + var1 + ".dat"));

            for (int var3 = 0; var3 < this.mt.length; ++var3) {
                for (int var4 = 0; var4 < 10; ++var4) {
                    for (int var5 = 0; var5 < 10; ++var5) {
                        this.mt[var3][var4][var5] = var2.readInt();
                    }
                }
            }

            this.hero.setHp(var2.readInt());
            this.hero.setAtk(var2.readInt());
            this.hero.setDef(var2.readInt());
            this.hero.setMoney(var2.readInt());
            this.hero.setExp(var2.readInt());
            this.hero.setYkey(var2.readInt());
            this.hero.setBkey(var2.readInt());
            this.hero.setRkey(var2.readInt());
            this.curfloor = var2.readInt();
            this.maxfloor = var2.readInt();
            this.hero.setX(var2.readInt());
            this.hero.setY(var2.readInt());
            this.hero.setDir(var2.readInt());
            var2.close();
        } catch (Exception var6) {
            ;
        }

    }

    public void playMusic(int var1) {
        try {
            String var2 = "mid/" + var1 + ".mid";
            this.file = new File(var2);
            this.url = this.file.toURL();
            this.clip = Applet.newAudioClip(this.url);
            this.clip.loop();
        } catch (Exception var3) {
            ;
        }

    }

    public void stopMusic() {
        if (this.clip != null) {
            this.clip.stop();
        }

    }

    public void playOgg(String var1) {
        try {
            String var2 = "wav/" + var1 + ".wav";
            this.f = new File(var2);
            this.u = this.f.toURL();
            this.ac = Applet.newAudioClip(this.u);
            this.ac.play();
        } catch (Exception var3) {
            ;
        }

    }

    void win() {
        this.stopMusic();
        this.playMusic(8);
        JOptionPane.showMessageDialog((Component) null, "魔王死了……Hero成功拯救了公主……", "故事人", -1);
        JOptionPane.showMessageDialog((Component) null, "但是魔塔的故事远不止于此……Hero的旅程才刚刚开始……", "故事人", -1);
        System.exit(1);
    }

    void lost() {
        this.stopMusic();
        this.playMusic(7);
        JOptionPane.showMessageDialog((Component) null, "Hero死了……谁还能拯救公主……", "故事人", -1);
        JOptionPane.showMessageDialog((Component) null, "魔王……也许就是那么强大……", "故事人", -1);
        JOptionPane.showMessageDialog((Component) null, "如果……如果Hero还活着……又能怎样……", "故事人", -1);
        System.exit(-1);
    }
}
